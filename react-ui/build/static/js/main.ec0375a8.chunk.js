(this["webpackJsonpmovies-search-simple-app"]=this["webpackJsonpmovies-search-simple-app"]||[]).push([[0],{241:function(e,t,a){e.exports=a(417)},246:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(52),o=a.n(c),u=(a(246),a(14)),s=a.n(u),l=a(17),i=a(15),p=a(432),d=a(45),m=function(e){var t=e.page,a=e.setPage,n=e.user,c=e.setUser,o=e.setContacts,u=function(e,t){a(t.name)};return r.a.createElement(p.a,{color:"teal"},r.a.createElement(p.a.Item,{header:!0},r.a.createElement(d.a,{name:"user circle outline"}),"Profile Finder"),n&&r.a.createElement(p.a.Item,{as:"a",name:"Home",active:"Home"===t,onClick:u}),n?r.a.createElement(p.a.Item,{as:"a",name:"Logout",onClick:function(){localStorage.clear(),c(null),o([]),a("Login")}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Item,{as:"a",name:"Login",active:"Login"===t,onClick:u}),r.a.createElement(p.a.Item,{as:"a",name:"Signup",active:"Signup"===t,onClick:u})))},f=a(36),v=a.n(f),b="/api/contacts",h=function(){var e=localStorage.getItem("loggedUser"),t=JSON.parse(e).token;return{headers:{Authorization:"bearer ".concat(t)}}},g={login:function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("api/login",t);case 2:return a=e.sent,localStorage.setItem("loggedUser",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("api/signup",t);case 2:return a=e.sent,localStorage.setItem("loggedUser",JSON.stringify(a.data)),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAll:function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(b,h());case 2:return t=e.sent,e.abrupt("return",t.data.records);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addNew:function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(b,t,h());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteContact:function(){var e=Object(l.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("".concat(b,"/").concat(t),h());case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addLink:function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("".concat(b,"/").concat(t,"/url"),a,h());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),editLink:function(){var e=Object(l.a)(s.a.mark((function e(t,a,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.patch("".concat(b,"/").concat(t,"/url/").concat(a),n,h());case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),deleteLink:function(){var e=Object(l.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("".concat(b,"/").concat(t,"/url/").concat(a),h());case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},E=a(428),w=a(231),O=function(e){var t=e.setContacts,a=e.options,c=e.notify,o=Object(n.useState)(""),u=Object(i.a)(o,2),p=u[0],m=u[1],f=Object(n.useState)(""),v=Object(i.a)(f,2),b=v[0],h=v[1],O=Object(n.useState)(""),j=Object(i.a)(O,2),k=j[0],y=j[1],x=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={name:p,contacts:{url:b.startsWith("https://")?b:"https://".concat(b),site:k}},e.prev=2,e.next=5,g.addNew(n);case 5:r=e.sent,t((function(e){return e.concat(r)})),c("New contact '".concat(r.name,"' added!"),"green"),m(""),h(""),y(""),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),c("".concat(e.t0.response.data.message),"red");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(E.a,{onSubmit:x},r.a.createElement(E.a.Group,{widths:"equal"},r.a.createElement(E.a.Input,{required:!0,placeholder:"Enter name",label:"Name",type:"text",value:p,onChange:function(e){return m(e.target.value)}}),r.a.createElement(E.a.Select,{required:!0,value:k,options:a,label:"Choose site name",selection:!0,search:!0,placeholder:"Select a site",onChange:function(e,t){return y(t.value)}}),r.a.createElement(E.a.Input,{required:!0,placeholder:"www.facebook.com",type:"text",label:"URL",value:b,onChange:function(e){return h(e.target.value)}})),r.a.createElement(w.a,{animated:"vertical",color:"teal",icon:!0,labelPosition:"left",type:"submit"},r.a.createElement(d.a,{name:"add user"}),"Add new contact"))},j=a(66),k=a(109),y=a(434),x=function(e){var t=e.id,a=e.urlId,c=e.contacts,o=e.setContacts,u=e.type,p=e.options,d=e.urlToEdit,m=e.siteToEdit,f=e.notify,v=Object(n.useState)(""),b=Object(i.a)(v,2),h=b[0],O=b[1],x=Object(n.useState)(""),S=Object(i.a)(x,2),C=S[0],I=S[1],L=Object(n.useState)(d),U=Object(i.a)(L,2),A=U[0],N=U[1],D=Object(n.useState)(m),F=Object(i.a)(D,2),T=F[0],q=F[1],H=Object(n.useState)(!1),J=Object(i.a)(H,2),P=J[0],R=J[1],_=function(){R(!1)},z=function(){var e=Object(l.a)(s.a.mark((function e(a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={url:h.startsWith("https://")?h:"https://".concat(h),site:C},e.prev=2,e.next=5,g.addLink(t,n);case 5:r=e.sent,o(c.map((function(e){return e.id!==t?e:r}))),f("New ".concat(n.site," link '").concat(n.url,"' added"),"green"),O(""),I(""),_(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),f("".concat(e.t0.response.data.message),"red");case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(s.a.mark((function e(n){var r,u,l,i,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r={url:A.startsWith("https://")?A:"https://".concat(A),site:T},u=c.find((function(e){return e.id===t})),e.prev=3,e.next=6,g.editLink(t,a,r);case 6:l=e.sent,i=u.contacts.map((function(e){return e.id!==a?e:l})),p=Object(j.a)(Object(j.a)({},u),{},{contacts:i}),o(c.map((function(e){return e.id!==t?e:p}))),f("".concat(r.site," link edited to '").concat(r.url,"'"),"green"),_(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),f("".concat(e.t0.response.data.message),"red");case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t){return e.apply(this,arguments)}}(),B="edit"===u;return r.a.createElement(k.a,{trigger:r.a.createElement(w.a,{color:B?"twitter":"green",size:B?"tiny":"small",onClick:function(){R(!0)},floated:B?"right":"left",icon:B?"edit":"add",content:B?void 0:"Add",className:B?"edit-btn":"add-btn"}),open:P,onClose:_,closeIcon:!0,style:{padding:"10px"}},r.a.createElement(y.a,{content:B?"Edit the link":"Add new link to contact"}),r.a.createElement(k.a.Content,null,r.a.createElement(E.a,{onSubmit:B?W:z},r.a.createElement(E.a.Input,{required:!0,placeholder:"For example, www.facebook.com",type:"text",label:"URL",value:B?A:h,onChange:function(e){return B?N(e.target.value):O(e.target.value)}}),r.a.createElement(E.a.Select,{required:!0,value:B?T:C,options:p,label:"Choose site name",selection:!0,search:!0,placeholder:"Select a site",onChange:function(e,t){return B?q(t.value):I(t.value)}}),r.a.createElement(w.a,{type:"submit",color:"green",floated:"right"},B?"Edit":"Add"))))},S=a(430),C=a(426),I=a(429),L=function(e){var t=e.contact,a=e.contacts,c=e.setContacts,o=e.options,u=e.notify,p=Object(n.useState)(!1),m=Object(i.a)(p,2),f=m[0],v=m[1],b=function(){var e=Object(l.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),e.prev=1,e.next=4,g.deleteContact(n);case 4:c(a.filter((function(e){return e.id!==n}))),u("Contact '".concat(t.name,"' deleted!"),"green"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u("".concat(e.t0.response.data.message),"red");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(s.a.mark((function e(t,n,r,o){var l,i,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!1),l=a.find((function(e){return e.id===t})),i=l.contacts.filter((function(e){return e.id!==n})),p=Object(j.a)(Object(j.a)({},l),{},{contacts:i}),e.prev=4,e.next=7,g.deleteLink(t,n);case 7:c(a.map((function(e){return e.id!==t?e:p}))),u("".concat(o," link '").concat(r,"' deleted!"),"green"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),u("".concat(e.t0.response.data.message),"red");case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n,r){return e.apply(this,arguments)}}();return r.a.createElement(S.a,{fluid:!0},r.a.createElement(S.a.Content,{style:{justifyContent:"center"}},r.a.createElement("h2",null,t.name,r.a.createElement(w.a,{onClick:function(){v(!0)},color:"red",floated:"right"},r.a.createElement(d.a,{name:"user delete"}),"Delete")),r.a.createElement(C.a,{open:f,onCancel:function(){v(!1)},onConfirm:function(){return b(t.id)}})),r.a.createElement(S.a.Content,null,r.a.createElement(I.a,{divided:!0,relaxed:!0,animated:!0},t.contacts.map((function(e){return r.a.createElement(I.a.Item,{key:e+e.id},r.a.createElement(I.a.Icon,{name:e.site,color:"black"}),r.a.createElement(I.a.Content,null,r.a.createElement(I.a.Header,null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},e.site.charAt(0).toUpperCase()+e.site.slice(1)),r.a.createElement(x,{id:t.id,urlId:e.id,contacts:a,setContacts:c,options:o,urlToEdit:e.url,siteToEdit:e.site,type:"edit",notify:u}),r.a.createElement(w.a,{color:"google plus",onClick:function(){v(!0)},floated:"right",size:"tiny",icon:"delete",className:"delete-btn"})),r.a.createElement(I.a.Description,{as:"a"},e.url),r.a.createElement(C.a,{open:f,onCancel:function(){v(!1)},onConfirm:function(){return h(t.id,e.id,e.url,e.site)}})))}))),r.a.createElement(x,{id:t.id,contacts:a,setContacts:c,options:o,type:"add",notify:u})))},U=function(e){var t=e.contacts,a=e.setContacts,n=e.options,c=e.notify;return r.a.createElement("div",{style:{marginTop:"20px"}},t.map((function(e){return r.a.createElement(L,{contact:e,contacts:t,setContacts:a,options:n,key:e.id,notify:c})})))},A=a(435),N=function(e){var t=e.notification;return t?r.a.createElement(A.a,{inverted:!0,color:t.color,secondary:!0},t.message):null},D=function(){return r.a.createElement(y.a,{as:"h1",icon:!0,textAlign:"center"},r.a.createElement(d.a,{name:"address card outline"}),"About",r.a.createElement(y.a.Subheader,null,r.a.createElement("p",null,"A MERN stack app developed by"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/lostghost-dev"},"Bigyan Koirala"),","," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/amand33p"},"Amandeep S.")," ","and"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/sahilrajput03"},"Sahil Rajput"),"."),r.a.createElement("p",null,"The original idea was, to have an app where we can save the profiles of popular and powerful software devs, teachers, at one place for our own comfort.")))},F=a(431),T=function(e){var t=e.setUser,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],u=c[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),m=d[0],f=d[1],v=Object(n.useState)(null),b=Object(i.a)(v,2),h=b[0],O=b[1],j=function(){var e=Object(l.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),u(""),f(""),e.prev=3,e.next=6,g.login({username:o,password:m});case 6:n=e.sent,t(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),O(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(E.a,{onSubmit:j},r.a.createElement(E.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{placeholder:"username",value:o,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(E.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"password",type:"password",value:m,onChange:function(e){var t=e.target;return f(t.value)}})),r.a.createElement(w.a,{type:"submit"},"Login")),h&&r.a.createElement(F.a,{error:!0,onDismiss:function(){O(null)},header:"Invalid Request",content:h}))},q=function(e){var t=e.setUser,a=Object(n.useState)(""),c=Object(i.a)(a,2),o=c[0],u=c[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),m=d[0],f=d[1],v=Object(n.useState)(null),b=Object(i.a)(v,2),h=b[0],O=b[1],j=function(){var e=Object(l.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),u(""),f(""),e.prev=3,e.next=6,g.signup({username:o,password:m});case 6:n=e.sent,t(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),O(e.t0.response.data.message);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(E.a,{onSubmit:j},r.a.createElement(E.a.Field,null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{placeholder:"username",value:o,onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement(E.a.Field,null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{placeholder:"password",type:"password",value:m,onChange:function(e){var t=e.target;return f(t.value)}})),r.a.createElement(w.a,{type:"submit"},"Signup")),h&&r.a.createElement(F.a,{onDismiss:function(){O(null)},error:!0,header:"Invalid Request",content:h}))},H=a(427),J=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),u=Object(i.a)(o,2),p=u[0],d=u[1],f=Object(n.useState)("Login"),v=Object(i.a)(f,2),b=v[0],h=v[1],E=Object(n.useState)(null),w=Object(i.a)(E,2),j=w[0],k=w[1],y=[{key:"fb",text:"Facebook",value:"facebook",icon:"facebook"},{key:"ig",text:"Instagram",value:"instagram",icon:"instagram"},{key:"tw",text:"Twitter",value:"twitter",icon:"twitter"},{key:"gh",text:"Github",value:"github",icon:"github"},{key:"yt",text:"Youtube",value:"youtube",icon:"youtube"}];Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");e&&(c(JSON.parse(e)),h("Home"))}),[]),Object(n.useEffect)((function(){a&&(function(){var e=Object(l.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getAll();case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),h("Home"))}),[a]);var x=null,S=function(e,t){clearTimeout(x),k({message:e,color:t}),x=setTimeout((function(){k(null)}),5e3)};return r.a.createElement(H.a,null,r.a.createElement(m,{page:b,setPage:h,user:a,setUser:c,setContacts:d}),"Home"===b&&r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{notification:j}),r.a.createElement(O,{setContacts:d,options:y,notify:S}),r.a.createElement(U,{contacts:p,setContacts:d,options:y,notify:S})),"About"===b&&r.a.createElement(D,null),"Login"===b&&r.a.createElement(T,{setUser:c}),"Signup"===b&&r.a.createElement(q,{setUser:c}))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.ec0375a8.chunk.js.map